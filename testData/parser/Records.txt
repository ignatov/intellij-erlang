ERL_FILE
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% %CopyrightBegin%')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% Copyright Ericsson AB 1996-2009. All Rights Reserved.')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% The contents of this file are subject to the Erlang Public License,')
  PsiComment(function_doc_comment)('%% Version 1.1, (the "License"); you may not use this file except in')
  PsiComment(function_doc_comment)('%% compliance with the License. You should have received a copy of the')
  PsiComment(function_doc_comment)('%% Erlang Public License along with this software. If not, it can be')
  PsiComment(function_doc_comment)('%% retrieved online at http://www.erlang.org/.')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% Software distributed under the License is distributed on an "AS IS"')
  PsiComment(function_doc_comment)('%% basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See')
  PsiComment(function_doc_comment)('%% the License for the specific language governing rights and limitations')
  PsiComment(function_doc_comment)('%% under the License.')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% %CopyrightEnd%')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%%-behaviour(mnesia_backup).')
  PsiComment(ERL_LINE_COMMENT)('%0')
  PsiComment(module_doc_comment)('%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% This module contains one implementation of callback functions')
  PsiComment(function_doc_comment)('%% used by Mnesia at backup and restore. The user may however')
  PsiComment(function_doc_comment)('%% write an own module the same interface as mnesia_backup and')
  PsiComment(function_doc_comment)('%% configure Mnesia so the alternate module performs the actual')
  PsiComment(function_doc_comment)('%% accesses to the backup media. This means that the user may put')
  PsiComment(function_doc_comment)('%% the backup on medias that Mnesia does not know about, possibly')
  PsiComment(function_doc_comment)('%% on hosts where Erlang is not running.')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% The OpaqueData argument is never interpreted by other parts of')
  PsiComment(function_doc_comment)('%% Mnesia. It is the property of this module. Alternate implementations')
  PsiComment(function_doc_comment)('%% of this module may have different interpretations of OpaqueData.')
  PsiComment(function_doc_comment)('%% The OpaqueData argument given to open_write/1 and open_read/1')
  PsiComment(function_doc_comment)('%% are forwarded directly from the user.')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% All functions must return {ok, NewOpaqueData} or {error, Reason}.')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% The NewOpaqueData arguments returned by backup callback functions will')
  PsiComment(function_doc_comment)('%% be given as input when the next backup callback function is invoked.')
  PsiComment(function_doc_comment)('%% If any return value does not match {ok, _} the backup will be aborted.')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% The NewOpaqueData arguments returned by restore callback functions will')
  PsiComment(function_doc_comment)('%% be given as input when the next restore callback function is invoked')
  PsiComment(function_doc_comment)('%% If any return value does not match {ok, _} the restore will be aborted.')
  PsiComment(function_doc_comment)('%%')
  PsiComment(module_doc_comment)('%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%')
  ERL_ATTRIBUTE
    PsiElement(-)('-')
    ERL_MODULE
      PsiElement(atom_name)('module')
      PsiElement(()('(')
      ERL_Q_ATOM
        ERL_ATOM
          PsiElement(atom_name)('mnesia_backup')
      PsiElement())(')')
    PsiElement(.)('.')
  ERL_INCLUDE_LIB
    PsiElement(-)('-')
    PsiElement(atom_name)('include_lib')
    PsiElement(()('(')
    ERL_INCLUDE_STRING
      PsiElement(string)('"kernel/include/file.hrl"')
    PsiElement())(')')
    PsiElement(.)('.')
  ERL_ATTRIBUTE
    PsiElement(-)('-')
    ERL_EXPORT
      PsiElement(atom_name)('export')
      PsiElement(()('(')
      ERL_EXPORT_FUNCTIONS
        PsiElement([)('[')
        PsiComment(function_doc_comment)('%% Write access')
        ERL_EXPORT_FUNCTION
          ERL_Q_ATOM
            ERL_ATOM
              PsiElement(atom_name)('open_write')
          PsiElement(/)('/')
          PsiElement(integer)('1')
        PsiElement(,)(',')
        ERL_EXPORT_FUNCTION
          ERL_Q_ATOM
            ERL_ATOM
              PsiElement(atom_name)('write')
          PsiElement(/)('/')
          PsiElement(integer)('2')
        PsiElement(,)(',')
        ERL_EXPORT_FUNCTION
          ERL_Q_ATOM
            ERL_ATOM
              PsiElement(atom_name)('commit_write')
          PsiElement(/)('/')
          PsiElement(integer)('1')
        PsiElement(,)(',')
        ERL_EXPORT_FUNCTION
          ERL_Q_ATOM
            ERL_ATOM
              PsiElement(atom_name)('abort_write')
          PsiElement(/)('/')
          PsiElement(integer)('1')
        PsiElement(,)(',')
        PsiComment(function_doc_comment)('%% Read access')
        ERL_EXPORT_FUNCTION
          ERL_Q_ATOM
            ERL_ATOM
              PsiElement(atom_name)('open_read')
          PsiElement(/)('/')
          PsiElement(integer)('1')
        PsiElement(,)(',')
        ERL_EXPORT_FUNCTION
          ERL_Q_ATOM
            ERL_ATOM
              PsiElement(atom_name)('read')
          PsiElement(/)('/')
          PsiElement(integer)('1')
        PsiElement(,)(',')
        ERL_EXPORT_FUNCTION
          ERL_Q_ATOM
            ERL_ATOM
              PsiElement(atom_name)('close_read')
          PsiElement(/)('/')
          PsiElement(integer)('1')
        PsiElement(])(']')
      PsiElement())(')')
    PsiElement(.)('.')
  PsiComment(module_doc_comment)('%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%')
  PsiComment(function_doc_comment)('%% Backup callback interface')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('backup')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('tmp_file')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('file')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('file_desc')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  PsiComment(function_doc_comment)('%% Opens backup media for write')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% Returns {ok, OpaqueData} or {error, Reason}')
  ERL_FUNCTION
    ERL_FUNCTION_CLAUSE
      ERL_Q_ATOM
        ERL_ATOM
          PsiElement(atom_name)('open_write')
      ERL_ARGUMENT_DEFINITION_LIST
        PsiElement(()('(')
        ERL_ARGUMENT_DEFINITION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement())(')')
      ERL_CLAUSE_BODY
        PsiElement(->)('->')
        ERL_ASSIGNMENT_EXPRESSION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('File')
          PsiElement(=)('=')
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement(,)(',')
        ERL_ASSIGNMENT_EXPRESSION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('Tmp')
          PsiElement(=)('=')
          ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('lists')
            PsiElement(:)(':')
            ERL_FUNCTION_CALL_EXPRESSION
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('concat')
              ERL_ARGUMENT_LIST
                PsiElement(()('(')
                ERL_LIST_EXPRESSION
                  PsiElement([)('[')
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('File')
                  PsiElement(,)(',')
                  ERL_STRING_LITERAL
                    PsiElement(string)('".BUPTMP"')
                  PsiElement(])(']')
                PsiElement())(')')
        PsiElement(,)(',')
        ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
          ERL_MODULE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('file')
          PsiElement(:)(':')
          ERL_FUNCTION_CALL_EXPRESSION
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('delete')
            ERL_ARGUMENT_LIST
              PsiElement(()('(')
              ERL_MAX_EXPRESSION
                ERL_Q_VAR
                  PsiElement(var)('Tmp')
              PsiElement())(')')
        PsiElement(,)(',')
        ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
          ERL_MODULE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('file')
          PsiElement(:)(':')
          ERL_FUNCTION_CALL_EXPRESSION
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('delete')
            ERL_ARGUMENT_LIST
              PsiElement(()('(')
              ERL_MAX_EXPRESSION
                ERL_Q_VAR
                  PsiElement(var)('File')
              PsiElement())(')')
        PsiElement(,)(',')
        ERL_CASE_EXPRESSION
          PsiElement(case)('case')
          ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('disk_log')
            PsiElement(:)(':')
            ERL_FUNCTION_CALL_EXPRESSION
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('open')
              ERL_ARGUMENT_LIST
                PsiElement(()('(')
                ERL_LIST_EXPRESSION
                  PsiElement([)('[')
                  ERL_TUPLE_EXPRESSION
                    PsiElement({)('{')
                    ERL_MAX_EXPRESSION
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('name')
                    PsiElement(,)(',')
                    ERL_FUNCTION_CALL_EXPRESSION
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('make_ref')
                      ERL_ARGUMENT_LIST
                        PsiElement(()('(')
                        PsiElement())(')')
                    PsiElement(})('}')
                  PsiElement(,)(',')
                  ERL_TUPLE_EXPRESSION
                    PsiElement({)('{')
                    ERL_MAX_EXPRESSION
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('file')
                    PsiElement(,)(',')
                    ERL_MAX_EXPRESSION
                      ERL_Q_VAR
                        PsiElement(var)('Tmp')
                    PsiElement(})('}')
                  PsiElement(,)(',')
                  ERL_TUPLE_EXPRESSION
                    PsiElement({)('{')
                    ERL_MAX_EXPRESSION
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('repair')
                    PsiElement(,)(',')
                    ERL_MAX_EXPRESSION
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('false')
                    PsiElement(})('}')
                  PsiElement(,)(',')
                  ERL_TUPLE_EXPRESSION
                    PsiElement({)('{')
                    ERL_MAX_EXPRESSION
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('linkto')
                    PsiElement(,)(',')
                    ERL_FUNCTION_CALL_EXPRESSION
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('self')
                      ERL_ARGUMENT_LIST
                        PsiElement(()('(')
                        PsiElement())(')')
                    PsiElement(})('}')
                  PsiElement(])(']')
                PsiElement())(')')
          PsiElement(of)('of')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('ok')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Fd')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('ok')
                PsiElement(,)(',')
                ERL_RECORD_EXPRESSION
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('backup')
                  ERL_RECORD_TUPLE
                    PsiElement({)('{')
                    ERL_RECORD_FIELD
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('tmp_file')
                      PsiElement(=)('=')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Tmp')
                    PsiElement(,)(',')
                    ERL_RECORD_FIELD
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('file')
                      PsiElement(=)('=')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('File')
                    PsiElement(,)(',')
                    ERL_RECORD_FIELD
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('file_desc')
                      PsiElement(=)('=')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Fd')
                    PsiElement(})('}')
                PsiElement(})('}')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
          PsiElement(end)('end')
    PsiElement(.)('.')
  PsiComment(function_doc_comment)('%% Writes BackupItems to the backup media')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% Returns {ok, OpaqueData} or {error, Reason}')
  ERL_FUNCTION
    ERL_FUNCTION_CLAUSE
      ERL_Q_ATOM
        ERL_ATOM
          PsiElement(atom_name)('write')
      ERL_ARGUMENT_DEFINITION_LIST
        PsiElement(()('(')
        ERL_ARGUMENT_DEFINITION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement(,)(',')
        ERL_ARGUMENT_DEFINITION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('BackupItems')
        PsiElement())(')')
      ERL_CLAUSE_BODY
        PsiElement(->)('->')
        ERL_ASSIGNMENT_EXPRESSION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('B')
          PsiElement(=)('=')
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement(,)(',')
        ERL_CASE_EXPRESSION
          PsiElement(case)('case')
          ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('disk_log')
            PsiElement(:)(':')
            ERL_FUNCTION_CALL_EXPRESSION
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('log_terms')
              ERL_ARGUMENT_LIST
                PsiElement(()('(')
                ERL_RECORD_EXPRESSION
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('B')
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('backup')
                  ERL_RECORD_FIELD
                    PsiElement(.)('.')
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('file_desc')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('BackupItems')
                PsiElement())(')')
          PsiElement(of)('of')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_MAX_EXPRESSION
                ERL_Q_ATOM
                  ERL_ATOM
                    PsiElement(atom_name)('ok')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('ok')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('B')
                PsiElement(})('}')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_FUNCTION_CALL_EXPRESSION
                ERL_Q_ATOM
                  ERL_ATOM
                    PsiElement(atom_name)('abort_write')
                ERL_ARGUMENT_LIST
                  PsiElement(()('(')
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('B')
                  PsiElement())(')')
              PsiElement(,)(',')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
          PsiElement(end)('end')
    PsiElement(.)('.')
  PsiComment(function_doc_comment)('%% Closes the backup media after a successful backup')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% Returns {ok, ReturnValueToUser} or {error, Reason}')
  ERL_FUNCTION
    ERL_FUNCTION_CLAUSE
      ERL_Q_ATOM
        ERL_ATOM
          PsiElement(atom_name)('commit_write')
      ERL_ARGUMENT_DEFINITION_LIST
        PsiElement(()('(')
        ERL_ARGUMENT_DEFINITION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement())(')')
      ERL_CLAUSE_BODY
        PsiElement(->)('->')
        ERL_ASSIGNMENT_EXPRESSION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('B')
          PsiElement(=)('=')
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement(,)(',')
        ERL_CASE_EXPRESSION
          PsiElement(case)('case')
          ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('disk_log')
            PsiElement(:)(':')
            ERL_FUNCTION_CALL_EXPRESSION
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('sync')
              ERL_ARGUMENT_LIST
                PsiElement(()('(')
                ERL_RECORD_EXPRESSION
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('B')
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('backup')
                  ERL_RECORD_FIELD
                    PsiElement(.)('.')
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('file_desc')
                PsiElement())(')')
          PsiElement(of)('of')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_MAX_EXPRESSION
                ERL_Q_ATOM
                  ERL_ATOM
                    PsiElement(atom_name)('ok')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_CASE_EXPRESSION
                PsiElement(case)('case')
                ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
                  ERL_MODULE_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('disk_log')
                  PsiElement(:)(':')
                  ERL_FUNCTION_CALL_EXPRESSION
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('close')
                    ERL_ARGUMENT_LIST
                      PsiElement(()('(')
                      ERL_RECORD_EXPRESSION
                        ERL_MAX_EXPRESSION
                          ERL_Q_VAR
                            PsiElement(var)('B')
                        PsiElement(#)('#')
                        ERL_RECORD_REF
                          ERL_Q_ATOM
                            ERL_ATOM
                              PsiElement(atom_name)('backup')
                        ERL_RECORD_FIELD
                          PsiElement(.)('.')
                          ERL_Q_ATOM
                            ERL_ATOM
                              PsiElement(atom_name)('file_desc')
                      PsiElement())(')')
                PsiElement(of)('of')
                ERL_CR_CLAUSE
                  ERL_ARGUMENT_DEFINITION
                    ERL_MAX_EXPRESSION
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('ok')
                  ERL_CLAUSE_BODY
                    PsiElement(->)('->')
                    ERL_CASE_EXPRESSION
                      PsiElement(case)('case')
                      ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
                        ERL_MODULE_REF
                          ERL_Q_ATOM
                            ERL_ATOM
                              PsiElement(atom_name)('file')
                        PsiElement(:)(':')
                        ERL_FUNCTION_CALL_EXPRESSION
                          ERL_Q_ATOM
                            ERL_ATOM
                              PsiElement(atom_name)('rename')
                          ERL_ARGUMENT_LIST
                            PsiElement(()('(')
                            ERL_RECORD_EXPRESSION
                              ERL_MAX_EXPRESSION
                                ERL_Q_VAR
                                  PsiElement(var)('B')
                              PsiElement(#)('#')
                              ERL_RECORD_REF
                                ERL_Q_ATOM
                                  ERL_ATOM
                                    PsiElement(atom_name)('backup')
                              ERL_RECORD_FIELD
                                PsiElement(.)('.')
                                ERL_Q_ATOM
                                  ERL_ATOM
                                    PsiElement(atom_name)('tmp_file')
                            PsiElement(,)(',')
                            ERL_RECORD_EXPRESSION
                              ERL_MAX_EXPRESSION
                                ERL_Q_VAR
                                  PsiElement(var)('B')
                              PsiElement(#)('#')
                              ERL_RECORD_REF
                                ERL_Q_ATOM
                                  ERL_ATOM
                                    PsiElement(atom_name)('backup')
                              ERL_RECORD_FIELD
                                PsiElement(.)('.')
                                ERL_Q_ATOM
                                  ERL_ATOM
                                    PsiElement(atom_name)('file')
                            PsiElement())(')')
                      PsiElement(of)('of')
                      ERL_CR_CLAUSE
                        ERL_ARGUMENT_DEFINITION
                          ERL_MAX_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('ok')
                        ERL_CLAUSE_BODY
                          PsiElement(->)('->')
                          ERL_TUPLE_EXPRESSION
                            PsiElement({)('{')
                            ERL_MAX_EXPRESSION
                              ERL_Q_ATOM
                                ERL_ATOM
                                  PsiElement(atom_name)('ok')
                            PsiElement(,)(',')
                            ERL_RECORD_EXPRESSION
                              ERL_MAX_EXPRESSION
                                ERL_Q_VAR
                                  PsiElement(var)('B')
                              PsiElement(#)('#')
                              ERL_RECORD_REF
                                ERL_Q_ATOM
                                  ERL_ATOM
                                    PsiElement(atom_name)('backup')
                              ERL_RECORD_FIELD
                                PsiElement(.)('.')
                                ERL_Q_ATOM
                                  ERL_ATOM
                                    PsiElement(atom_name)('file')
                            PsiElement(})('}')
                      PsiElement(;)(';')
                      ERL_CR_CLAUSE
                        ERL_ARGUMENT_DEFINITION
                          ERL_TUPLE_EXPRESSION
                            PsiElement({)('{')
                            ERL_MAX_EXPRESSION
                              ERL_Q_ATOM
                                ERL_ATOM
                                  PsiElement(atom_name)('error')
                            PsiElement(,)(',')
                            ERL_MAX_EXPRESSION
                              ERL_Q_VAR
                                PsiElement(var)('Reason')
                            PsiElement(})('}')
                        ERL_CLAUSE_BODY
                          PsiElement(->)('->')
                          ERL_TUPLE_EXPRESSION
                            PsiElement({)('{')
                            ERL_MAX_EXPRESSION
                              ERL_Q_ATOM
                                ERL_ATOM
                                  PsiElement(atom_name)('error')
                            PsiElement(,)(',')
                            ERL_MAX_EXPRESSION
                              ERL_Q_VAR
                                PsiElement(var)('Reason')
                            PsiElement(})('}')
                      PsiElement(end)('end')
                PsiElement(;)(';')
                ERL_CR_CLAUSE
                  ERL_ARGUMENT_DEFINITION
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('error')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Reason')
                      PsiElement(})('}')
                  ERL_CLAUSE_BODY
                    PsiElement(->)('->')
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('error')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Reason')
                      PsiElement(})('}')
                PsiElement(end)('end')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
          PsiElement(end)('end')
    PsiElement(.)('.')
  PsiComment(function_doc_comment)('%% Closes the backup media after an interrupted backup')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% Returns {ok, ReturnValueToUser} or {error, Reason}')
  ERL_FUNCTION
    ERL_FUNCTION_CLAUSE
      ERL_Q_ATOM
        ERL_ATOM
          PsiElement(atom_name)('abort_write')
      ERL_ARGUMENT_DEFINITION_LIST
        PsiElement(()('(')
        ERL_ARGUMENT_DEFINITION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('BackupRef')
        PsiElement())(')')
      ERL_CLAUSE_BODY
        PsiElement(->)('->')
        ERL_ASSIGNMENT_EXPRESSION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('Res')
          PsiElement(=)('=')
          ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('disk_log')
            PsiElement(:)(':')
            ERL_FUNCTION_CALL_EXPRESSION
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('close')
              ERL_ARGUMENT_LIST
                PsiElement(()('(')
                ERL_RECORD_EXPRESSION
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('BackupRef')
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('backup')
                  ERL_RECORD_FIELD
                    PsiElement(.)('.')
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('file_desc')
                PsiElement())(')')
        PsiElement(,)(',')
        ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
          ERL_MODULE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('file')
          PsiElement(:)(':')
          ERL_FUNCTION_CALL_EXPRESSION
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('delete')
            ERL_ARGUMENT_LIST
              PsiElement(()('(')
              ERL_RECORD_EXPRESSION
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('BackupRef')
                PsiElement(#)('#')
                ERL_RECORD_REF
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('backup')
                ERL_RECORD_FIELD
                  PsiElement(.)('.')
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('tmp_file')
              PsiElement())(')')
        PsiElement(,)(',')
        ERL_CASE_EXPRESSION
          PsiElement(case)('case')
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('Res')
          PsiElement(of)('of')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_MAX_EXPRESSION
                ERL_Q_ATOM
                  ERL_ATOM
                    PsiElement(atom_name)('ok')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('ok')
                PsiElement(,)(',')
                ERL_RECORD_EXPRESSION
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('BackupRef')
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('backup')
                  ERL_RECORD_FIELD
                    PsiElement(.)('.')
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('file')
                PsiElement(})('}')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
          PsiElement(end)('end')
    PsiElement(.)('.')
  PsiComment(module_doc_comment)('%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%')
  PsiComment(function_doc_comment)('%% Restore callback interface')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('restore')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('file')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('file_desc')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('cont')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('beg_clause')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('arg')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('var_to_map1')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('pats')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('var_to_map1')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('guard')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_MODULE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('cerl')
          PsiElement(:)(':')
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('cerl')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('end_clause')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('arg')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('var_to_map1')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('pats')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('var_to_map1')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('guard')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_MODULE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('cerl')
          PsiElement(:)(':')
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('cerl')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('end_case')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('clauses')
        PsiElement(::)('::')
        ERL_TYPE
          PsiElement([)('[')
          ERL_TYPE
            PsiElement(#)('#')
            ERL_RECORD_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('end_clause')
            PsiElement({)('{')
            PsiElement(})('}')
          PsiElement(])(']')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('curr_fun')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('status')
        PsiElement(::)('::')
        ERL_TOP_TYPE
          ERL_TYPE
            ERL_TYPE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(single_quote)(''')
                  PsiElement(atom_name)('in')
                  PsiElement(single_quote)(''')
          PsiElement(|)('|')
          ERL_TYPE
            ERL_TYPE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(single_quote)(''')
                  PsiElement(atom_name)('out')
                  PsiElement(single_quote)(''')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('mfa')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('mfa_or_funlbl')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('label')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('label')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('def_vars')
        PsiElement(::)('::')
        ERL_TYPE
          PsiElement([)('[')
          ERL_TYPE
            ERL_TYPE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('core_vars')
            PsiElement(()('(')
            PsiElement())(')')
          PsiElement(])(']')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('arg_types')
        PsiElement(::)('::')
        ERL_TYPE
          PsiElement([)('[')
          ERL_TYPE
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('erl_types')
            PsiElement(:)(':')
            ERL_TYPE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('erl_type')
            PsiElement(()('(')
            PsiElement())(')')
          PsiElement(])(']')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('call_vars')
        PsiElement(::)('::')
        ERL_TYPE
          PsiElement([)('[')
          ERL_TYPE
            ERL_TYPE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('core_vars')
            PsiElement(()('(')
            PsiElement())(')')
          PsiElement(])(']')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('var_map')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('dict')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('dep_call')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('call_name')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('dep_calls')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('args')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('args')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('arg_types')
        PsiElement(::)('::')
        ERL_TYPE
          PsiElement([)('[')
          ERL_TYPE
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('erl_types')
            PsiElement(:)(':')
            ERL_TYPE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('erl_type')
            PsiElement(()('(')
            PsiElement())(')')
          PsiElement(])(']')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('vars')
        PsiElement(::)('::')
        ERL_TYPE
          PsiElement([)('[')
          ERL_TYPE
            ERL_TYPE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('core_vars')
            PsiElement(()('(')
            PsiElement())(')')
          PsiElement(])(']')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('state')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_Q_VAR
            PsiElement(var)('_')
      PsiElement(,)(',')
      PsiComment(function_doc_comment)('%% XXX: recursive')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('file_line')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('file_line')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('var_map')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('dict')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('fun_call')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('caller')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('mfa_or_funlbl')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('callee')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('mfa_or_funlbl')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('arg_types')
        PsiElement(::)('::')
        ERL_TYPE
          PsiElement([)('[')
          ERL_TYPE
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('erl_types')
            PsiElement(:)(':')
            ERL_TYPE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('erl_type')
            PsiElement(()('(')
            PsiElement())(')')
          PsiElement(])(']')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('vars')
        PsiElement(::)('::')
        ERL_TYPE
          PsiElement([)('[')
          ERL_TYPE
            ERL_TYPE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('core_vars')
            PsiElement(()('(')
            PsiElement())(')')
          PsiElement(])(']')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('let_tag')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('var')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('var_to_map1')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('arg')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('var_to_map1')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  ERL_RECORD_DEFINITION
    PsiElement(-)('-')
    PsiElement(atom_name)('record')
    PsiElement(()('(')
    ERL_Q_ATOM
      ERL_ATOM
        PsiElement(atom_name)('warn_call')
    PsiElement(,)(',')
    ERL_TYPED_RECORD_FIELDS
      PsiElement({)('{')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('call_name')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('warn_calls')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('args')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('args')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(,)(',')
      ERL_TYPED_EXPR
        ERL_Q_ATOM
          ERL_ATOM
            PsiElement(atom_name)('var_map')
        PsiElement(::)('::')
        ERL_TYPE
          ERL_TYPE_REF
            ERL_Q_ATOM
              ERL_ATOM
                PsiElement(atom_name)('dict')
          PsiElement(()('(')
          PsiElement())(')')
      PsiElement(})('}')
    PsiElement())(')')
    PsiElement(.)('.')
  PsiComment(function_doc_comment)('%% Opens backup media for read')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% Returns {ok, OpaqueData} or {error, Reason}')
  ERL_FUNCTION
    ERL_FUNCTION_CLAUSE
      ERL_Q_ATOM
        ERL_ATOM
          PsiElement(atom_name)('open_read')
      ERL_ARGUMENT_DEFINITION_LIST
        PsiElement(()('(')
        ERL_ARGUMENT_DEFINITION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement())(')')
      ERL_CLAUSE_BODY
        PsiElement(->)('->')
        ERL_ASSIGNMENT_EXPRESSION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('File')
          PsiElement(=)('=')
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement(,)(',')
        ERL_CASE_EXPRESSION
          PsiElement(case)('case')
          ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('file')
            PsiElement(:)(':')
            ERL_FUNCTION_CALL_EXPRESSION
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('read_file_info')
              ERL_ARGUMENT_LIST
                PsiElement(()('(')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('File')
                PsiElement())(')')
          PsiElement(of)('of')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_MAX_EXPRESSION
                ERL_Q_VAR
                  PsiElement(var)('_FileInfo')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              PsiComment(function_doc_comment)('%% file exists')
              ERL_CASE_EXPRESSION
                PsiElement(case)('case')
                ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
                  ERL_MODULE_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('disk_log')
                  PsiElement(:)(':')
                  ERL_FUNCTION_CALL_EXPRESSION
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('open')
                    ERL_ARGUMENT_LIST
                      PsiElement(()('(')
                      ERL_LIST_EXPRESSION
                        PsiElement([)('[')
                        ERL_TUPLE_EXPRESSION
                          PsiElement({)('{')
                          ERL_MAX_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('file')
                          PsiElement(,)(',')
                          ERL_MAX_EXPRESSION
                            ERL_Q_VAR
                              PsiElement(var)('File')
                          PsiElement(})('}')
                        PsiElement(,)(',')
                        ERL_TUPLE_EXPRESSION
                          PsiElement({)('{')
                          ERL_MAX_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('name')
                          PsiElement(,)(',')
                          ERL_FUNCTION_CALL_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('make_ref')
                            ERL_ARGUMENT_LIST
                              PsiElement(()('(')
                              PsiElement())(')')
                          PsiElement(})('}')
                        PsiElement(,)(',')
                        ERL_TUPLE_EXPRESSION
                          PsiElement({)('{')
                          ERL_MAX_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('repair')
                          PsiElement(,)(',')
                          ERL_MAX_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('false')
                          PsiElement(})('}')
                        PsiElement(,)(',')
                        ERL_TUPLE_EXPRESSION
                          PsiElement({)('{')
                          ERL_MAX_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('mode')
                          PsiElement(,)(',')
                          ERL_MAX_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('read_only')
                          PsiElement(})('}')
                        PsiElement(,)(',')
                        ERL_TUPLE_EXPRESSION
                          PsiElement({)('{')
                          ERL_MAX_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('linkto')
                          PsiElement(,)(',')
                          ERL_FUNCTION_CALL_EXPRESSION
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('self')
                            ERL_ARGUMENT_LIST
                              PsiElement(()('(')
                              PsiElement())(')')
                          PsiElement(})('}')
                        PsiElement(])(']')
                      PsiElement())(')')
                PsiElement(of)('of')
                ERL_CR_CLAUSE
                  ERL_ARGUMENT_DEFINITION
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('ok')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Fd')
                      PsiElement(})('}')
                  ERL_CLAUSE_BODY
                    PsiElement(->)('->')
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('ok')
                      PsiElement(,)(',')
                      ERL_RECORD_EXPRESSION
                        PsiElement(#)('#')
                        ERL_RECORD_REF
                          ERL_Q_ATOM
                            ERL_ATOM
                              PsiElement(atom_name)('restore')
                        ERL_RECORD_TUPLE
                          PsiElement({)('{')
                          ERL_RECORD_FIELD
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('file')
                            PsiElement(=)('=')
                            ERL_MAX_EXPRESSION
                              ERL_Q_VAR
                                PsiElement(var)('File')
                          PsiElement(,)(',')
                          ERL_RECORD_FIELD
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('file_desc')
                            PsiElement(=)('=')
                            ERL_MAX_EXPRESSION
                              ERL_Q_VAR
                                PsiElement(var)('Fd')
                          PsiElement(,)(',')
                          ERL_RECORD_FIELD
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('cont')
                            PsiElement(=)('=')
                            ERL_MAX_EXPRESSION
                              ERL_Q_ATOM
                                ERL_ATOM
                                  PsiElement(atom_name)('start')
                          PsiElement(})('}')
                      PsiElement(})('}')
                PsiElement(;)(';')
                ERL_CR_CLAUSE
                  ERL_ARGUMENT_DEFINITION
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('repaired')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Fd')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('_')
                      PsiElement(,)(',')
                      ERL_TUPLE_EXPRESSION
                        PsiElement({)('{')
                        ERL_MAX_EXPRESSION
                          ERL_Q_ATOM
                            ERL_ATOM
                              PsiElement(atom_name)('badbytes')
                        PsiElement(,)(',')
                        ERL_MAX_EXPRESSION
                          PsiElement(integer)('0')
                        PsiElement(})('}')
                      PsiElement(})('}')
                  ERL_CLAUSE_BODY
                    PsiElement(->)('->')
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('ok')
                      PsiElement(,)(',')
                      ERL_RECORD_EXPRESSION
                        PsiElement(#)('#')
                        ERL_RECORD_REF
                          ERL_Q_ATOM
                            ERL_ATOM
                              PsiElement(atom_name)('restore')
                        ERL_RECORD_TUPLE
                          PsiElement({)('{')
                          ERL_RECORD_FIELD
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('file')
                            PsiElement(=)('=')
                            ERL_MAX_EXPRESSION
                              ERL_Q_VAR
                                PsiElement(var)('File')
                          PsiElement(,)(',')
                          ERL_RECORD_FIELD
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('file_desc')
                            PsiElement(=)('=')
                            ERL_MAX_EXPRESSION
                              ERL_Q_VAR
                                PsiElement(var)('Fd')
                          PsiElement(,)(',')
                          ERL_RECORD_FIELD
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('cont')
                            PsiElement(=)('=')
                            ERL_MAX_EXPRESSION
                              ERL_Q_ATOM
                                ERL_ATOM
                                  PsiElement(atom_name)('start')
                          PsiElement(})('}')
                      PsiElement(})('}')
                PsiElement(;)(';')
                ERL_CR_CLAUSE
                  ERL_ARGUMENT_DEFINITION
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('repaired')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Fd')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('_')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('_')
                      PsiElement(})('}')
                  ERL_CLAUSE_BODY
                    PsiElement(->)('->')
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('ok')
                      PsiElement(,)(',')
                      ERL_RECORD_EXPRESSION
                        PsiElement(#)('#')
                        ERL_RECORD_REF
                          ERL_Q_ATOM
                            ERL_ATOM
                              PsiElement(atom_name)('restore')
                        ERL_RECORD_TUPLE
                          PsiElement({)('{')
                          ERL_RECORD_FIELD
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('file')
                            PsiElement(=)('=')
                            ERL_MAX_EXPRESSION
                              ERL_Q_VAR
                                PsiElement(var)('File')
                          PsiElement(,)(',')
                          ERL_RECORD_FIELD
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('file_desc')
                            PsiElement(=)('=')
                            ERL_MAX_EXPRESSION
                              ERL_Q_VAR
                                PsiElement(var)('Fd')
                          PsiElement(,)(',')
                          ERL_RECORD_FIELD
                            ERL_Q_ATOM
                              ERL_ATOM
                                PsiElement(atom_name)('cont')
                            PsiElement(=)('=')
                            ERL_MAX_EXPRESSION
                              ERL_Q_ATOM
                                ERL_ATOM
                                  PsiElement(atom_name)('start')
                          PsiElement(})('}')
                      PsiElement(})('}')
                PsiElement(;)(';')
                ERL_CR_CLAUSE
                  ERL_ARGUMENT_DEFINITION
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('error')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Reason')
                      PsiElement(})('}')
                  ERL_CLAUSE_BODY
                    PsiElement(->)('->')
                    ERL_TUPLE_EXPRESSION
                      PsiElement({)('{')
                      ERL_MAX_EXPRESSION
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('error')
                      PsiElement(,)(',')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Reason')
                      PsiElement(})('}')
                PsiElement(end)('end')
          PsiElement(end)('end')
    PsiElement(.)('.')
  PsiComment(function_doc_comment)('%% Reads BackupItems from the backup media')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% Returns {ok, OpaqueData, BackupItems} or {error, Reason}')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% BackupItems == [] is interpreted as eof')
  ERL_FUNCTION
    ERL_FUNCTION_CLAUSE
      ERL_Q_ATOM
        ERL_ATOM
          PsiElement(atom_name)('read')
      ERL_ARGUMENT_DEFINITION_LIST
        PsiElement(()('(')
        ERL_ARGUMENT_DEFINITION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement())(')')
      ERL_CLAUSE_BODY
        PsiElement(->)('->')
        ERL_ASSIGNMENT_EXPRESSION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('R')
          PsiElement(=)('=')
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement(,)(',')
        ERL_ASSIGNMENT_EXPRESSION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('Fd')
          PsiElement(=)('=')
          ERL_RECORD_EXPRESSION
            ERL_MAX_EXPRESSION
              ERL_Q_VAR
                PsiElement(var)('R')
            PsiElement(#)('#')
            ERL_RECORD_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('restore')
            ERL_RECORD_FIELD
              PsiElement(.)('.')
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('file_desc')
        PsiElement(,)(',')
        ERL_CASE_EXPRESSION
          PsiElement(case)('case')
          ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('disk_log')
            PsiElement(:)(':')
            ERL_FUNCTION_CALL_EXPRESSION
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('chunk')
              ERL_ARGUMENT_LIST
                PsiElement(()('(')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Fd')
                PsiElement(,)(',')
                ERL_RECORD_EXPRESSION
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('R')
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('restore')
                  ERL_RECORD_FIELD
                    PsiElement(.)('.')
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('cont')
                PsiElement())(')')
          PsiElement(of)('of')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_TUPLE_EXPRESSION
                  PsiElement({)('{')
                  ERL_STRING_LITERAL
                    PsiElement(string)('"Possibly truncated"')
                  PsiElement(,)(',')
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('Reason')
                  PsiElement(})('}')
                PsiElement(})('}')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_MAX_EXPRESSION
                ERL_Q_ATOM
                  ERL_ATOM
                    PsiElement(atom_name)('eof')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('ok')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('R')
                PsiElement(,)(',')
                ERL_LIST_EXPRESSION
                  PsiElement([)('[')
                  PsiElement(])(']')
                PsiElement(})('}')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Cont')
                PsiElement(,)(',')
                ERL_LIST_EXPRESSION
                  PsiElement([)('[')
                  PsiElement(])(']')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_FUNCTION_CALL_EXPRESSION
                ERL_Q_ATOM
                  ERL_ATOM
                    PsiElement(atom_name)('read')
                ERL_ARGUMENT_LIST
                  PsiElement(()('(')
                  ERL_RECORD_EXPRESSION
                    ERL_MAX_EXPRESSION
                      ERL_Q_VAR
                        PsiElement(var)('R')
                    PsiElement(#)('#')
                    ERL_RECORD_REF
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('restore')
                    ERL_RECORD_TUPLE
                      PsiElement({)('{')
                      ERL_RECORD_FIELD
                        ERL_Q_ATOM
                          ERL_ATOM
                            PsiElement(atom_name)('cont')
                        PsiElement(=)('=')
                        ERL_MAX_EXPRESSION
                          ERL_Q_VAR
                            PsiElement(var)('Cont')
                      PsiElement(})('}')
                  PsiElement())(')')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Cont')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('BackupItems')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('_BadBytes')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('ok')
                PsiElement(,)(',')
                ERL_RECORD_EXPRESSION
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('R')
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('restore')
                  ERL_RECORD_TUPLE
                    PsiElement({)('{')
                    ERL_RECORD_FIELD
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('cont')
                      PsiElement(=)('=')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Cont')
                    PsiElement(})('}')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('BackupItems')
                PsiElement(})('}')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Cont')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('BackupItems')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('ok')
                PsiElement(,)(',')
                ERL_RECORD_EXPRESSION
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('R')
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('restore')
                  ERL_RECORD_TUPLE
                    PsiElement({)('{')
                    ERL_RECORD_FIELD
                      ERL_Q_ATOM
                        ERL_ATOM
                          PsiElement(atom_name)('cont')
                      PsiElement(=)('=')
                      ERL_MAX_EXPRESSION
                        ERL_Q_VAR
                          PsiElement(var)('Cont')
                    PsiElement(})('}')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('BackupItems')
                PsiElement(})('}')
          PsiElement(end)('end')
    PsiElement(.)('.')
  PsiComment(function_doc_comment)('%% Closes the backup media after restore')
  PsiComment(function_doc_comment)('%%')
  PsiComment(function_doc_comment)('%% Returns {ok, ReturnValueToUser} or {error, Reason}')
  ERL_FUNCTION
    ERL_FUNCTION_CLAUSE
      ERL_Q_ATOM
        ERL_ATOM
          PsiElement(atom_name)('close_read')
      ERL_ARGUMENT_DEFINITION_LIST
        PsiElement(()('(')
        ERL_ARGUMENT_DEFINITION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement())(')')
      ERL_CLAUSE_BODY
        PsiElement(->)('->')
        ERL_ASSIGNMENT_EXPRESSION
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('R')
          PsiElement(=)('=')
          ERL_MAX_EXPRESSION
            ERL_Q_VAR
              PsiElement(var)('OpaqueData')
        PsiElement(,)(',')
        ERL_CASE_EXPRESSION
          PsiElement(case)('case')
          ERL_GLOBAL_FUNCTION_CALL_EXPRESSION
            ERL_MODULE_REF
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('disk_log')
            PsiElement(:)(':')
            ERL_FUNCTION_CALL_EXPRESSION
              ERL_Q_ATOM
                ERL_ATOM
                  PsiElement(atom_name)('close')
              ERL_ARGUMENT_LIST
                PsiElement(()('(')
                ERL_RECORD_EXPRESSION
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('R')
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('restore')
                  ERL_RECORD_FIELD
                    PsiElement(.)('.')
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('file_desc')
                PsiElement())(')')
          PsiElement(of)('of')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_MAX_EXPRESSION
                ERL_Q_ATOM
                  ERL_ATOM
                    PsiElement(atom_name)('ok')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('ok')
                PsiElement(,)(',')
                ERL_RECORD_EXPRESSION
                  ERL_MAX_EXPRESSION
                    ERL_Q_VAR
                      PsiElement(var)('R')
                  PsiElement(#)('#')
                  ERL_RECORD_REF
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('restore')
                  ERL_RECORD_FIELD
                    PsiElement(.)('.')
                    ERL_Q_ATOM
                      ERL_ATOM
                        PsiElement(atom_name)('file')
                PsiElement(})('}')
          PsiElement(;)(';')
          ERL_CR_CLAUSE
            ERL_ARGUMENT_DEFINITION
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
            ERL_CLAUSE_BODY
              PsiElement(->)('->')
              ERL_TUPLE_EXPRESSION
                PsiElement({)('{')
                ERL_MAX_EXPRESSION
                  ERL_Q_ATOM
                    ERL_ATOM
                      PsiElement(atom_name)('error')
                PsiElement(,)(',')
                ERL_MAX_EXPRESSION
                  ERL_Q_VAR
                    PsiElement(var)('Reason')
                PsiElement(})('}')
          PsiElement(end)('end')
    PsiElement(.)('.')
  PsiComment(ERL_LINE_COMMENT)('%0')
